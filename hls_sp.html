<html>
<head>
<script src="hls.js"></script>  
</head>
<body>

<video controls id="v" width="500"></video>
<br /><br /> 
<input type="button" value="Control" onclick="toggleControls(self);" />
<script> 

function toggleControls(c) {
  if (video.hasAttribute("controls")) {
     video.removeAttribute("controls");   
     c.value = "Hide Control";
  } else {
     video.setAttribute("controls", "controls");   
     c.value = "Show Control";
  }
}
 
if(Hls.isSupported()) {
    var video = document.getElementById('v');
    var hls = new Hls();
    hls.loadSource('./out.m3u8');
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED,function(event, data) {
      console.log("manifest loaded, found " + data.levels.length + " quality level");

      var playPromise = video.play();

      if (playPromise !== undefined) {

        playPromise.then(_ => {
// FIX DOM EX 
          video.pause();
        })
      .catch(error => {
        });
      }

    });
}
</script>  
</body>
</html>
